"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{39239:function(e,t,n){n.r(t),n.d(t,{WalletView:function(){return R}});var s=n(30266),r=n(809),a=n.n(r),c=n(67294),i=n(35005),o=n(10682),l=n(34051),u=n(31555),d=n(56379),x=n(71611),f=n(90948),m=n(79456),h=n(66229),v=n(29634),p=n(59917),j=n(87966),b=n(28216),g=n(7792),y=n(41408),k=n(60410),w=n(85893);function Z(e){var t=e.solPrice,n=e.balance,s=e.isDevnet,r=e.airDrop,a=e.loading,c=parseFloat((n/p.LAMPORTS_PER_SOL).toString()).toFixed(5),d=parseFloat((t*n/p.LAMPORTS_PER_SOL).toString()).toFixed(2);return(0,w.jsxs)(o.Z,{className:"bg-grey-100",children:[(0,w.jsx)(l.Z,{children:(0,w.jsx)(u.Z,{lg:"10",xl:"8",className:"text-center mx-auto",children:(0,w.jsx)("h2",{className:"display-4 m-3",children:"Balance"})})}),(0,w.jsx)(l.Z,{children:(0,w.jsx)(u.Z,{lg:"10",xl:"8",className:"text-center mx-auto text-success",children:(0,w.jsx)("h2",{className:"mb-3",children:"".concat(c," SOL = ").concat(d," US$ ")})})}),s?(0,w.jsx)(l.Z,{children:(0,w.jsx)(u.Z,{lg:"10",xl:"8",className:"text-center mx-auto ",children:(0,w.jsx)(i.Z,{onClick:r,variant:"outline-primary",className:"mb-3",disabled:a,children:"Airdrop 1 SOL"})})}):null]})}var N=(0,n(92077).u)((function(){return n.e(144).then(n.bind(n,15144))}),(function(e){return e.Collectibles})),C=n(7995),S=n(99668),O=n(28213),B=n(44366),P=n(23618),T=n(74737),R=(0,c.memo)((function(){var e=(0,x.Os)(),t=e.publicKey,n=e.wallet,r=e.disconnect,R=e.connecting,A=e.connected,E=(0,c.useState)(!1),L=E[0],M=E[1],_=(0,c.useState)(!1),D=_[0],F=_[1],W=(0,c.useState)(""),I=W[0],H=W[1],K=(0,m.Z)().solanaCluster,V=(0,f.h)().setVisible,z=(0,c.useState)(!1),Q=z[0],Y=z[1],$=(0,x.Rc)().connection,q=(0,g.kh)().actions,J=(0,b.I0)(),U=(0,y.Z)(),G=U.setLoading,X=U.loading,ee=(0,b.v9)(k.NH),te=(0,b.v9)(k.QM),ne=(0,b.v9)(k.Ng),se=(0,P.O9)(),re=(0,c.useMemo)((function(){return null===t||void 0===t?void 0:t.toBase58()}),[t]),ae=(0,c.useMemo)((function(){return n&&re?re.slice(0,8)+".."+re.slice(-8):null}),[n,re]),ce=(0,c.useMemo)((function(){return R?"Connecting ...":A?"Connected":n?"Connect":""}),[R,A,n]),ie=(0,c.useCallback)((0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!re){e.next=5;break}return e.next=3,navigator.clipboard.writeText(re);case 3:Y(!0),setTimeout((function(){return Y(!1)}),400);case 5:case"end":return e.stop()}}),e)}))),[re]);c.useEffect((function(){G(ee)}),[ee]),c.useEffect((0,s.Z)(a().mark((function e(){var s,r,c,i,o,l,u,d,x,f,m,h,b,g,y,k,w,Z,N,O,P,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n&&t&&re)){e.next=53;break}return e.next=4,(0,C.HJ)(K,S.OY);case 4:return s=e.sent,r=[],s&&s.mintAddresses&&(r=s.mintAddresses),J(q.setTokenList(r)),J(q.setPublicKey(re)),e.next=11,$.getBalance(t);case 11:return c=e.sent,J(q.setBalance(c)),e.next=15,$.getTokenAccountsByOwner(t,{programId:(0,B.Wo)().token});case 15:return i=e.sent,e.next=18,$.getParsedTokenAccountsByOwner(t,{programId:(0,B.Wo)().token});case 18:o=e.sent,l=o.value,u=[],d=0;case 22:if(!(d<i.value.length)){e.next=36;break}x=i.value[d],f=(0,v.V4)(x.pubkey.toBase58(),x.account),m=null===f||void 0===f?void 0:f.info.mint.toBase58(),h=1;try{h=l[d].account.data.parsed.info.tokenAmount.amount}catch(a){}if(!(m&&h>0)){e.next=33;break}return e.next=31,(0,T.sd)(m);case 31:b=e.sent,u.push(new p.PublicKey(b));case 33:d++,e.next=22;break;case 36:return J(q.setMintPublicKeys(u.map((function(e){return e.toBase58()})))),e.next=39,$.getMultipleAccountsInfo(u,"single");case 39:g=e.sent,y=[],k=0;case 42:if(!(k<g.length)){e.next=52;break}return w=g[k],Z=u[k].toBase58(),e.next=47,(0,j.s)(w,Z);case 47:N=e.sent,y.push(N);case 49:k++,e.next=42;break;case 52:for(O=0;O<y.length;O++)(P=y[O])&&(R=P.info.data.uri).length>=0&&(J(q.addMintAddress({key:R,mint:P.info.mint})),J(q.getMetaData(R)));case 53:e.next=59;break;case 55:e.prev=55,e.t0=e.catch(0),H("Error connecting to Solana network:".concat(e.t0.toString())),F(!0);case 59:case"end":return e.stop()}}),e,null,[[0,55]])}))),[n,t,S.OY]);var oe=(0,w.jsx)("div",{className:"p-5",children:(0,w.jsx)(i.Z,{variant:"outline-primary",className:"p-3",onClick:function(){return V(!0)},children:"Select Wallet"})}),le=function(){var e=(0,s.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=15;break}return G(!0),F(!1),M(!1),e.next=7,$.requestAirdrop(t,p.LAMPORTS_PER_SOL);case 7:return e.next=9,new Promise((function(e){return setTimeout(e,3e3)}));case 9:return M(!0),e.next=12,$.getBalance(t);case 12:n=e.sent,J(q.setBalance(n)),G(!1);case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),G(!1),H("Failed to airdrop 1 SOL,please try again later"),F(!0);case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),ue=(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{title:re,className:" mb-2 text-success d-flex justify-content-center text-uppercase",children:(0,w.jsx)("h5",{children:ae})}),(0,w.jsxs)("div",{className:" text-success d-flex justify-content-center",children:[(0,w.jsxs)(i.Z,{variant:"outline-primary mx-2",onClick:ie,children:[(0,w.jsx)(h.Wb,{icon:"mdi:content-copy"}),Q?"Copied":"Copy"]}),(0,w.jsxs)(i.Z,{variant:"outline-primary mx-2",onClick:r,children:[(0,w.jsx)(h.Wb,{icon:"mdi:wallet"}),"Disconnect"]})]})]});return(0,w.jsxs)("div",{style:{minHeight:"calc(100vh - 165px)"},children:[(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(l.Z,{children:(0,w.jsxs)(u.Z,{lg:"10",xl:"8",className:"text-center mx-auto",children:[(0,w.jsx)("h2",{className:"display-4 m-3 text-capitalize",children:"Wallet"}),(0,w.jsx)("h6",{className:"m-3 text-capitalize text-muted",children:K})]})}),(0,w.jsx)(l.Z,{children:(0,w.jsx)(u.Z,{className:"d-flex justify-content-center mb-3",children:n?re?ue:ce:oe})})]}),n?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z,{solPrice:se,balance:te,loading:X,isDevnet:"devnet"===K,airDrop:le}),(0,w.jsx)(l.Z,{children:(0,w.jsxs)(u.Z,{className:"d-flex justify-content-center",children:[(0,w.jsx)(d.Z,{onClose:function(){return M(!1)},show:L,delay:3e3,autohide:!0,bg:"success",className:"text-white",children:(0,w.jsx)(d.Z.Body,{children:"Successfully airdropped 1 SOL"})}),(0,w.jsx)(d.Z,{onClose:function(){return F(!1)},show:D,delay:3e3,autohide:!0,bg:"danger",className:"text-white",children:(0,w.jsx)(d.Z.Body,{children:I})})]})}),(0,w.jsx)(N,{collectibles:ne,viewImage:function(e){if(e.mintAddress){var t="https://solscan.io/token/".concat(e.mintAddress);K===O.QZ.Devnet&&(t+="?cluster=devnet"),window.open(t)}}})]}):null]})}))},56379:function(e,t,n){n.d(t,{Z:function(){return Z}});var s=n(67294),r=n(94184),a=n.n(r);var c=n(55088),i=Math.pow(2,31)-1;function o(e,t,n){var s=n-Date.now();e.current=s<=i?setTimeout(t,s):setTimeout((function(){return o(e,t,n)}),i)}function l(){var e=function(){var e=(0,s.useRef)(!0),t=(0,s.useRef)((function(){return e.current}));return(0,s.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}(),t=(0,s.useRef)();return(0,c.Z)((function(){return clearTimeout(t.current)})),(0,s.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(s,r){void 0===r&&(r=0),e()&&(n(),r<=i?t.current=setTimeout(s,r):o(t,s,Date.now()+r))},clear:n}}),[])}var u=n(12666),d=n(41068),x=n(85893);const f={[u.d0]:"showing",[u.Ix]:"showing show"},m=s.forwardRef(((e,t)=>(0,x.jsx)(d.Z,{...e,ref:t,transitionClasses:f})));m.displayName="ToastFade";var h=m,v=n(96895),p=n(76792),j=n(41485);var b=s.createContext({onClose(){}});const g=s.forwardRef((({bsPrefix:e,closeLabel:t,closeVariant:n,closeButton:r,className:c,children:i,...o},l)=>{e=(0,p.vE)(e,"toast-header");const u=(0,s.useContext)(b),d=(0,v.Z)((e=>{null==u||null==u.onClose||u.onClose(e)}));return(0,x.jsxs)("div",{ref:l,...o,className:a()(e,c),children:[i,r&&(0,x.jsx)(j.Z,{"aria-label":t,variant:n,onClick:d,"data-dismiss":"toast"})]})}));g.displayName="ToastHeader",g.defaultProps={closeLabel:"Close",closeButton:!0};var y=g,k=(0,n(44680).Z)("toast-body");const w=s.forwardRef((({bsPrefix:e,className:t,transition:n=h,show:r=!0,animation:c=!0,delay:i=5e3,autohide:o=!1,onClose:u,bg:d,...f},m)=>{e=(0,p.vE)(e,"toast");const v=(0,s.useRef)(i),j=(0,s.useRef)(u);(0,s.useEffect)((()=>{v.current=i,j.current=u}),[i,u]);const g=l(),y=!(!o||!r),k=(0,s.useCallback)((()=>{y&&(null==j.current||j.current())}),[y]);(0,s.useEffect)((()=>{g.set(k,v.current)}),[g,k]);const w=(0,s.useMemo)((()=>({onClose:u})),[u]),Z=!(!n||!c),N=(0,x.jsx)("div",{...f,ref:m,className:a()(e,t,d&&`bg-${d}`,!Z&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,x.jsx)(b.Provider,{value:w,children:Z&&n?(0,x.jsx)(n,{in:r,unmountOnExit:!0,children:N}):N})}));w.displayName="Toast";var Z=Object.assign(w,{Body:k,Header:y})}}]);