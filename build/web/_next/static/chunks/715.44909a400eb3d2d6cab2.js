"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{96465:function(e,t,n){n.d(t,{_:function(){return c}});n(67294);var a=n(51004),r=n(35005),i=n(66229),s=n(85893);function c(e){var t=e.title,n=e.message,c=e.icon,o=e.onOk,l=e.iconColor,u=e.modalShow,d=e.onCancel;return(0,s.jsxs)(a.Z,{show:u,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(a.Z.Header,{children:(0,s.jsx)(a.Z.Title,{id:"contained-modal-title-vcenter",children:(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)(i.Wb,{className:"h2 mr-2",icon:c,color:l}),(0,s.jsx)("div",{className:"px-2",children:t})]})})}),(0,s.jsx)(a.Z.Body,{children:n}),(0,s.jsxs)(a.Z.Footer,{children:[(0,s.jsx)(r.Z,{onClick:o,variant:"primary",children:"Ok"}),(0,s.jsx)(r.Z,{onClick:d,variant:"secondary",children:"Cancel"})]})]})}},54715:function(e,t,n){n.r(t),n.d(t,{GalleryView:function(){return q}});var a=n(30266),r=n(80318),i=n(809),s=n.n(i),c=n(67294),o=n(10682),l=n(34051),u=n(31555),d=n(46431),m=n(35005),f=n(38966),x=n(52154),h=n(51004),p=n(36968),v=n(29506),b=n(7995),y=n(96486),g=n(68440),j=n(66229),Z=n(23618),w=n(85893),k=(0,c.memo)((function(e){var t=e.meta,n=e.buyProduct,a=e.price,r=(0,Z.O9)(),i=parseFloat((r*a).toString()).toFixed(2),s=t.image;"gif"!==t.type&&t.hasThumbnail&&(s="https://firebasestorage.googleapis.com/v0/b/solana-nft-io-thumbnails/o/".concat(t.assetId,"_400x400.jpeg?alt=media"));return(0,w.jsxs)("div",{className:"product ","data-aos":"zoom-in","data-aos-delay":"0",children:[(0,w.jsx)("div",{className:"product-image mb-0",children:(0,w.jsx)(g.E,{className:"img-fluid bg-white hover-scale",src:s,alt:t.name,width:400,height:400,onError:function(e){e.target.onerror=null,e.target.src=t.image}})}),(0,w.jsx)("div",{className:"product-hover-overlay d-flex justify-content-end",children:(0,w.jsx)("div",{className:"text-dark text-sm d-flex align-items-center",children:(0,w.jsx)(m.Z,{className:"d-none d-sm-inline mx-2",onClick:function(){n(t)},variant:"primary",children:"Buy"})})}),(0,w.jsxs)("div",{className:"position-relative ",children:[(0,w.jsx)("h6",{className:"text-base my-1 overflow-hidden",children:(0,w.jsx)("div",{className:"text-primary text-nowrap ",children:t.name})}),(0,w.jsxs)("span",{className:"text-primary text-md",style:{cursor:"pointer"},children:[(0,w.jsx)(j.Wb,{icon:"mdi:cart-variant",color:"green"})," "]}),(0,w.jsxs)("span",{className:"text-gray-600 text-sm",children:[a," SOL "]}),(0,w.jsxs)("span",{className:"text-gray-500 text-sm",children:["(US $",i,") "]})]})]})})),S=n(41408),C=n(79456),N=(0,n(92077).u)((function(){return Promise.all([n.e(495),n.e(518)]).then(n.bind(n,27518))}),(function(e){return e.GalleryProductDetailView})),P=n(71611),D=n(5977),K=n(28216),B=n(60410),L=n(16890),T=n(66014),R=n(42929),M=n(49685),F=n(17574),A=n(59917),V=n(99668),H=n(96465),_=n(775),E=n(68182),W=n(70472),O=s().mark(z);function z(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),O)}var U={metaData:{},loading:!1,currentPage:1,searchText:""},I=(0,E.o)({name:"galleryView",initialState:U,reducers:{clearMetaData:function(e,t){e.loading=!1,e.errorMessage="",e.metaData={}},setCurrentPage:function(e,t){e.currentPage=t.payload},setSearchText:function(e,t){e.searchText=t.payload},addMetaData:function(e,t){e.loading=!1,t.payload.key in e.metaData||t.payload.meta&&(e.metaData[t.payload.key]=t.payload.meta)}}}),J=(I.actions,n(22222)),Q=(0,J.P1)([function(e){return e.galleryView||U}],(function(e){return e})),X=((0,J.P1)([Q],(function(e){return e.metaData})),(0,J.P1)([Q],(function(e){return e.loading})),(0,J.P1)([Q],(function(e){return e.currentPage}))),Y=(0,J.P1)([Q],(function(e){return e.searchText})),G=100,q=(0,c.memo)((function(e){var t=((0,W.v)({key:I.name,reducer:I.reducer}),(0,W.h)({key:I.name,saga:z}),{actions:I.actions}).actions,n=(0,C.Z)().solanaCluster,i=(0,K.v9)(Y),g=(0,K.v9)(X),Z=c.useState(0),E=(0,r.Z)(Z,2),O=E[0],U=E[1],J=c.useState(g),Q=(0,r.Z)(J,2),q=Q[0],$=Q[1],ee=c.useState(i),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],re=c.useState(""),ie=(0,r.Z)(re,2),se=ie[0],ce=ie[1],oe=c.useState(0),le=(0,r.Z)(oe,2),ue=le[0],de=le[1],me=c.useState([]),fe=(0,r.Z)(me,2),xe=fe[0],he=fe[1],pe=c.useState([]),ve=(0,r.Z)(pe,2),be=ve[0],ye=ve[1],ge=(0,S.Z)(),je=ge.loading,Ze=ge.setLoading,we=c.useState(!1),ke=(0,r.Z)(we,2),Se=ke[0],Ce=ke[1],Ne=c.useState(""),Pe=(0,r.Z)(Ne,2),De=Pe[0],Ke=Pe[1],Be=c.useState(null),Le=(0,r.Z)(Be,2),Te=Le[0],Re=Le[1],Me=c.useState(0),Fe=(0,r.Z)(Me,2),Ae=Fe[0],Ve=Fe[1],He=(0,P.Os)(),_e=(0,D.k6)(),Ee=(0,K.v9)(B.QM),We=(0,K.v9)(B.Gl),Oe=(0,c.useState)(!1),ze=Oe[0],Ue=Oe[1],Ie=c.useState(!1),Je=(0,r.Z)(Ie,2),Qe=Je[0],Xe=Je[1],Ye=(0,R.$0)(),Ge=(0,K.I0)(),qe=c.useState(!1),$e=(0,r.Z)(qe,2),et=$e[0],tt=$e[1];c.useEffect((0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.SA)();case 2:if(!(t=e.sent)){e.next=13;break}return U(t.count),n=(0,y.round)(t.count/G),de(n),a=Math.round(Math.random()*(n-10)),e.next=10,nt(a);case 10:return $(a),e.next=13,at(a);case 13:case"end":return e.stop()}}),e)}))),[]),c.useEffect((function(){he(g>2?[g-2,g-1,g,g+1,g+2]:[1,2,3,4,5])}),[O,g]);var nt=function(){var e=(0,a.Z)(s().mark((function e(n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n,!(n>0&&n<=ue)){e.next=6;break}return $(n),Ge(t.setCurrentPage(a)),e.next=6,at(a);case 6:he(a>2?[a-2,a-1,a,a+1,a+2]:[1,2,3,4,5]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),e.next=3,(0,b.vb)((t-1)*G,G);case 3:n=e.sent,ye(n),Ze(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(""),e.next=3,at(q);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(e){return"devnet"===n?e.price/1e9:.01},st=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe(!1),Ce(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(e){Re(e),Ve(it(e)),e.sha256&&function(e){if(We)for(var t=0,n=Object.entries(We);t<n.length;t++){var a=(0,r.Z)(n[t],2)[1];if("attributes"in a){var i=a;if(i)for(var s=0;s<(null===(c=i.attributes)||void 0===c?void 0:c.length);s++){var c;if(i.attributes){var o=i.attributes[s];if("SHA256"===o.trait_type&&o.value===e)return!0}}}}return!1}(e.sha256)?Xe(!0):Ce(!0)},ot=function(){var e=(0,a.Z)(s().mark((function e(){var t,a,r,i,c,o,l,u,d,m,f,x,h,p,v,y,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce(!1),tt(!1),a=Ee/A.LAMPORTS_PER_SOL,r={},i=(0,L.lv)(1,100),c=T.V[i%T.V.length],o={solanaCluster:n,userPublicKey:null===He||void 0===He||null===(t=He.publicKey)||void 0===t?void 0:t.toBase58(),treasurerPublicKey:c.toBase58(),success:!0,cacheStorage:r,sha256:""},e.prev=7,He&&He.wallet){e.next=12;break}_e.push("/wallet"),e.next=48;break;case 12:if(!(a<Ae+.02)){e.next=17;break}Ke("Not enough fund to buy ,your balance is ".concat(a," SOL,estimated total cost is ").concat(parseFloat((Ae+.02).toString()).toFixed(5)," SOL")),Ue(!0),e.next=48;break;case 17:if(Ke("Mint started"),!Te){e.next=46;break}return Ze(!0),Ue(!0),u={name:Te.name,symbol:"SolanaNFT",image:"image.png",properties:{files:[{uri:"image.png",type:"image/png"}],category:"image",creators:[{address:o.userPublicKey,share:100}]},description:(0,L.Mp)(Te.description),seller_fee_basis_points:500,attributes:[]},null===(l=Te.attributes)||void 0===l||l.forEach((function(e){return u.attributes.push(e)})),u.attributes.push({trait_type:"Mint date",value:(new Date).toLocaleDateString()}),u.attributes.push({trait_type:"SHA256",value:Te.sha256}),e.next=27,(0,M.V)(Te.image,u,He,n,"".concat(Ae),(function(e){Ke((0,F.nb)(e))}),c,r);case 27:if((d=e.sent)&&(m=d.metadataAccount,f=d.arweaveLink,o.metaAccount=m,o.arweaveLink=f,o.success=!0),Ze(!1),!(o.arweaveLink&&o.arweaveLink.length>0)){e.next=39;break}return Ye.dropConfetti(),h="".concat(null===(x=He.publicKey)||void 0===x?void 0:x.toBase58()," bought nft from gallery ").concat(Te.assetId," successfully"),p={subject:h,text:JSON.stringify(Te,null,2)},e.next=36,(0,b.Q1)(V.nH,p);case 36:Ke("Successfully mint your token, please check collectibles in\n                  your wallet."),e.next=46;break;case 39:return Ze(!1),o.success=!1,Ke("Failed to mint the token,please try again later"),y="".concat(null===(v=He.publicKey)||void 0===v?void 0:v.toBase58()," failed to buy nft from gallery ").concat(Te.assetId),g={subject:y,text:JSON.stringify(Te,null,2)},e.next=46,(0,b.Q1)(V.nH,g);case 46:return e.next=48,(0,b.SX)(o);case 48:e.next=54;break;case 50:e.prev=50,e.t0=e.catch(7),Ze(!1),Ke("Failed to mint the token,please try again later");case 54:return e.prev=54,Ze(!1),e.finish(54);case 57:case"end":return e.stop()}}),e,null,[[7,50,54,57]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=parseInt(se),e.next=4,nt(t);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return c.useEffect((0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===ne||je){e.next=8;break}return Ze(!0),e.next=4,(0,b.Tk)(ne,G);case 4:n=e.sent,ye(n),Ge(t.setSearchText(ne)),Ze(!1);case 8:case"end":return e.stop()}}),e)}))),[ne]),(0,w.jsxs)(o.Z,{className:"my-2",children:[(0,w.jsx)("section",{className:"hero pt-6 pb-3",children:(0,w.jsx)(o.Z,{children:(0,w.jsxs)(l.Z,{children:[(0,w.jsx)(u.Z,{sm:4,className:"d-flex justify-content-start",children:(0,w.jsxs)(d.Z,{className:"mb-3",children:[(0,w.jsx)(d.Z.Text,{id:"basic-addon1",children:(0,w.jsx)(j.Wb,{icon:"mdi:search"})}),(0,w.jsx)(_.DebounceInput,{placeholder:"Search","aria-label":"search","aria-describedby":"basic-addon1",minLength:2,debounceTimeout:2e3,value:ne,onChange:function(e){return ae(e.target.value)}}),(0,w.jsx)(m.Z,{variant:"outline-secondary",id:"button-addon1",onClick:rt,children:(0,w.jsx)(j.Wb,{icon:"mdi:clear"})})]})}),(0,w.jsx)(u.Z,{sm:8,className:"d-flex justify-content-end",children:""===ne?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(f.Z,{children:[(0,w.jsx)(f.Z.First,{onClick:function(){return nt(1)}}),(0,w.jsx)(f.Z.Prev,{onClick:function(){return nt(q-1)}}),xe.map((function(e){return(0,w.jsx)(f.Z.Item,{onClick:function(){return nt(e)},active:e===q,disabled:e>ue,children:e},e)})),(0,w.jsx)(f.Z.Next,{onClick:function(){return nt(q+1)}}),(0,w.jsx)(f.Z.Last,{onClick:function(){return nt(ue)}})]}),(0,w.jsxs)(d.Z,{className:"mb-3 d-sm-none d-md-none d-lg-inline-flex",style:{width:"200px"},children:[(0,w.jsx)(x.Z.Control,{placeholder:"Page","aria-label":"page","aria-describedby":"basic-addon2",value:se,type:"number",step:1,min:1,onChange:function(e){return ce(e.target.value)}}),(0,w.jsx)(m.Z,{variant:"outline-secondary",id:"button-addon2",onClick:lt,children:"Go"})]})]}):null})]})})}),(0,w.jsx)("section",{className:"pb-5",style:{minHeight:"calc(100vh - 285px)"},children:(0,w.jsx)(o.Z,{children:(0,w.jsx)(v.GD,{columnsCountBreakPoints:{400:1,500:2,900:3,1e3:4},children:(0,w.jsx)(v.ZP,{className:"row",children:be.map((function(e,t){var n=it(e);return(0,w.jsx)(u.Z,{className:"item",children:(0,w.jsx)(k,{meta:e,buyProduct:ct,price:n})},e.imageIndex)}))})})})}),(0,w.jsx)(N,{modalShow:Se,onCancel:function(){Ce(!1)},onConfirm:ot,mode:"buy",okText:"Mint",cancelText:"Cancel",meta:Te,showConfetti:et,price:Ae}),(0,w.jsxs)(h.Z,{show:ze,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,w.jsx)(h.Z.Header,{children:(0,w.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)(j.Wb,{className:"h2 mr-2 text-warning ",icon:"mdi:timer"}),(0,w.jsx)("div",{className:"px-2 text-uppercase",children:"Mint NFT"})]})})}),(0,w.jsx)(h.Z.Body,{children:(0,w.jsx)("div",{className:"d-flex flex-row w-100",children:(0,w.jsx)("div",{className:"d-flex justify-content-center",children:De})})}),(0,w.jsx)(h.Z.Footer,{children:(0,w.jsxs)(m.Z,{disabled:je,variant:"primary",onClick:function(){return Ue(!1)},children:[je?(0,w.jsx)(p.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):null,"Close"]})})]}),(0,w.jsx)(H._,{title:"Duplicates",iconColor:"red",message:"You've already had current image in your wallet, are you sure to continue?",icon:"mdi:alert",onOk:st,modalShow:Qe,onCancel:function(){Xe(!1)}})]})}))},66014:function(e,t,n){n.d(t,{V:function(){return r}});var a=n(59917),r=[new a.PublicKey("BPoWLHZXnv4mU9JxsWUsHB1FpBDbbiwKpb2RaSNNbRvF"),new a.PublicKey("DYbrSmqCzPSBgcCp3rSL2kBUvXVCCPRBdfqKxoWGNE4B"),new a.PublicKey("4UcR8QnmyvNS3z34MXwJ4ofKyWkEXaZjP86f3m7dUecj"),new a.PublicKey("CcQdXi8rifxxBh33xRTWZH1J6SAufoicDTA8VM3nA19"),new a.PublicKey("F1rAfpL2Dot6RCv8Cq9kHzqzuDfTuHDDJwHn88XDevVw"),new a.PublicKey("6YwWBr8zSYaSvapuzU9RwkWEroV1v8fiFbwLuBVsukoU"),new a.PublicKey("BRRbZZ6gm2UXoacMCC7PNsnAdfHbR15u7xJfyxngG1QA"),new a.PublicKey("7RRSp4kZRBdqVaeDLAD975WFBR3iDy335YjKfdejjMWY"),new a.PublicKey("HMhVSCVLtZ8xF7AuurgT6S2gqrpywhMvC1KQRYQREAmR"),new a.PublicKey("8kDKUBU9b6AuKa3ZzgRnmAubf6Y1LMBi5ErLJ4zTiKsa")]}}]);